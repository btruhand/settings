#!/bin/bash

# RUN ONLY WHEN EVERYTHING ELSE IS ALREADY SETUP
# THIS IS TO BOOTSTRAP THE ENVIRONMENT TO WORK AS INTENDED

SETTINGS_DIR=$(dirname $(dirname $(cd $(dirname $0) && pwd)))

# initialize bash profile
cp "$SETTINGS_DIR"/dotfiles/bash_profile ~/.bash_profile

# Copy bashrc
cp "$SETTINGS_DIR"/dotfiles/bashrc ~/.bashrc

# Copy all remaining dotfiles
cp "$SETTINGS_DIR"/dotfiles/ctags ~/.ctags
cp "$SETTINGS_DIR"/dotfiles/eslintrc.json ~/.eslintrc.json
cp "$SETTINGS_DIR"/dotfiles/gitconfig ~/.gitconfig
cp "$SETTINGS_DIR"/dotfiles/npmrc ~/.npmrc
cp "$SETTINGS_DIR"/dotfiles/tern-project ~/.tern-project
cp "$SETTINGS_DIR"/dotfiles/vimrc ~/.vimrc

# see: https://github.com/creationix/nvm#default-global-packages-from-file-while-installing
cp "$SETTINGS_DIR"/installers/npm-default-packages ~/.nvm/default-packages

# changing shell to bash install
sudo bash -c "echo '/usr/local/bin/bash' >> /etc/shells"
chsh -s /usr/local/bin/bash

echo "All set up. Please re-login to the terminal"
